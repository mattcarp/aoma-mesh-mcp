<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sony Music - JIRA 10.3 Testing Analysis</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        border: 'hsl(var(--border))',
                        input: 'hsl(var(--input))',
                        ring: 'hsl(var(--ring))',
                        background: 'hsl(var(--background))',
                        foreground: 'hsl(var(--foreground))',
                        primary: {
                            DEFAULT: 'hsl(var(--primary))',
                            foreground: 'hsl(var(--primary-foreground))',
                        },
                        secondary: {
                            DEFAULT: 'hsl(var(--secondary))',
                            foreground: 'hsl(var(--secondary-foreground))',
                        },
                        destructive: {
                            DEFAULT: 'hsl(var(--destructive))',
                            foreground: 'hsl(var(--destructive-foreground))',
                        },
                        muted: {
                            DEFAULT: 'hsl(var(--muted))',
                            foreground: 'hsl(var(--muted-foreground))',
                        },
                        accent: {
                            DEFAULT: 'hsl(var(--accent))',
                            foreground: 'hsl(var(--accent-foreground))',
                        },
                        card: {
                            DEFAULT: 'hsl(var(--card))',
                            foreground: 'hsl(var(--card-foreground))',
                        },
                    },
                    borderRadius: {
                        lg: 'var(--radius)',
                        md: 'calc(var(--radius) - 2px)',
                        sm: 'calc(var(--radius) - 4px)',
                    }
                }
            }
        }
    </script>
    <style>
        :root {
            --background: 0 0% 100%;
            --foreground: 240 10% 3.9%;
            --card: 0 0% 100%;
            --card-foreground: 240 10% 3.9%;
            --popover: 0 0% 100%;
            --popover-foreground: 240 10% 3.9%;
            --primary: 240 9% 89.8%;
            --primary-foreground: 240 5.9% 10%;
            --secondary: 240 4.8% 95.9%;
            --secondary-foreground: 240 5.9% 10%;
            --muted: 240 4.8% 95.9%;
            --muted-foreground: 240 3.8% 46.1%;
            --accent: 240 4.8% 95.9%;
            --accent-foreground: 240 5.9% 10%;
            --destructive: 0 84.2% 60.2%;
            --destructive-foreground: 0 0% 98%;
            --border: 240 5.9% 90%;
            --input: 240 5.9% 90%;
            --ring: 240 10% 3.9%;
            --radius: 0.5rem;
        }

        .dark {
            --background: 240 10% 3.9%;
            --foreground: 0 0% 98%;
            --card: 240 10% 3.9%;
            --card-foreground: 0 0% 98%;
            --popover: 240 10% 3.9%;
            --popover-foreground: 0 0% 98%;
            --primary: 0 0% 98%;
            --primary-foreground: 240 5.9% 10%;
            --secondary: 240 3.7% 15.9%;
            --secondary-foreground: 0 0% 98%;
            --muted: 240 3.7% 15.9%;
            --muted-foreground: 240 5% 64.9%;
            --accent: 240 3.7% 15.9%;
            --accent-foreground: 0 0% 98%;
            --destructive: 0 62.8% 30.6%;
            --destructive-foreground: 0 0% 98%;
            --border: 240 3.7% 15.9%;
            --input: 240 3.7% 15.9%;
            --ring: 240 4.9% 83.9%;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: hsl(var(--background));
            color: hsl(var(--foreground));
        }

        .card {
            background: hsl(var(--card));
            border: 1px solid hsl(var(--border));
            border-radius: calc(var(--radius) + 2px);
        }

        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            border-radius: var(--radius);
            font-size: 0.875rem;
            font-weight: 500;
            transition: all 0.2s;
            border: 1px solid transparent;
            padding: 0.5rem 1rem;
            text-decoration: none;
        }

        .btn-primary {
            background: hsl(var(--primary));
            color: hsl(var(--primary-foreground));
        }

        .btn-primary:hover {
            background: hsl(var(--primary) / 0.8);
        }

        .btn-secondary {
            background: hsl(var(--secondary));
            color: hsl(var(--secondary-foreground));
        }

        .btn-secondary:hover {
            background: hsl(var(--secondary) / 0.8);
        }

        .btn-destructive {
            background: hsl(var(--destructive));
            color: hsl(var(--destructive-foreground));
        }

        .alert {
            border-radius: var(--radius);
            border: 1px solid hsl(var(--border));
            padding: 1rem;
        }

        .alert-destructive {
            border-color: hsl(var(--destructive));
            background: hsl(var(--destructive) / 0.1);
            color: hsl(var(--destructive-foreground));
        }

        .alert-warning {
            border-color: hsl(38 92% 50%);
            background: hsl(38 92% 50% / 0.1);
            color: hsl(38 92% 15%);
        }

        .dark .alert-warning {
            color: hsl(38 92% 85%);
        }

        .badge {
            display: inline-flex;
            align-items: center;
            border-radius: calc(var(--radius) - 2px);
            padding: 0.25rem 0.5rem;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.025em;
        }

        .badge-success {
            background: hsl(142 76% 36% / 0.1);
            color: hsl(142 76% 36%);
        }

        .badge-warning {
            background: hsl(38 92% 50% / 0.1);
            color: hsl(38 92% 30%);
        }

        .badge-destructive {
            background: hsl(var(--destructive) / 0.1);
            color: hsl(var(--destructive));
        }

        .dark .badge-success {
            background: hsl(142 76% 36% / 0.2);
            color: hsl(142 76% 60%);
        }

        .dark .badge-warning {
            background: hsl(38 92% 50% / 0.2);
            color: hsl(38 92% 70%);
        }

        .chart-container {
            background: hsl(var(--card));
            border: 1px solid hsl(var(--border));
            border-radius: calc(var(--radius) + 2px);
            padding: 1.5rem;
        }

        /* Custom styles for interactive elements */
        .finding-card {
            background: hsl(var(--card));
            border: 1px solid hsl(var(--border));
            border-radius: calc(var(--radius) + 2px);
            padding: 1.5rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .finding-card:hover {
            border-color: hsl(var(--ring));
            box-shadow: 0 4px 12px hsl(var(--foreground) / 0.1);
        }

        .finding-card.expanded {
            border-color: hsl(var(--primary));
        }

        .finding-details {
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid hsl(var(--border));
            display: none;
        }

        .finding-card.expanded .finding-details {
            display: block;
        }

        /* Animation utilities */
        .animate-pulse {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }

        /* Theme toggle */
        .theme-toggle {
            position: fixed;
            top: 1rem;
            right: 1rem;
            background: hsl(var(--card));
            border: 1px solid hsl(var(--border));
            border-radius: var(--radius);
            padding: 0.5rem;
            cursor: pointer;
            z-index: 50;
        }
    </style>
</head>
<body class="min-h-screen">
    <!-- Theme Toggle -->
    <button class="theme-toggle" onclick="toggleTheme()" title="Toggle theme">
        <span class="dark:hidden">üåô</span>
        <span class="hidden dark:inline">‚òÄÔ∏è</span>
    </button>

    <!-- Header -->
    <header class="bg-red-600 dark:bg-red-700 text-white">
        <div class="max-w-7xl mx-auto px-6 py-12">
            <div class="text-center">
                <div class="text-sm font-semibold tracking-widest mb-4 opacity-90">SONY MUSIC</div>
                <h1 class="text-4xl md:text-5xl font-bold mb-4">JIRA 10.3 Testing Analysis</h1>
                <p class="text-xl opacity-90">Comprehensive Validation Report</p>
                <p class="text-sm mt-4 opacity-75">Generated: Friday, January 24, 2025</p>
            </div>
        </div>
    </header>

    <!-- Status Alert -->
    <div class="bg-yellow-50 dark:bg-yellow-900/20 border-l-4 border-yellow-400 p-4">
        <div class="max-w-7xl mx-auto">
            <div class="flex items-center">
                <div class="flex-shrink-0">‚ö†Ô∏è</div>
                <div class="ml-3">
                    <p class="text-sm text-yellow-800 dark:text-yellow-200 font-medium">
                        <strong>Testing Complete:</strong> 243 tests executed with mixed results. Authentication issues identified in test automation affecting 59.4% of failures.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-6 py-12 space-y-8">
        
        <!-- Executive Summary -->
        <section class="card p-8">
            <h2 class="text-3xl font-bold mb-6">üìä Executive Summary</h2>
            
            <!-- Key Metrics Grid -->
            <div class="grid grid-cols-2 md:grid-cols-4 gap-6 mb-8">
                <div class="text-center p-6 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800">
                    <div class="text-3xl font-bold text-blue-600 dark:text-blue-400">243</div>
                    <div class="text-sm text-blue-600 dark:text-blue-400 font-medium">Total Tests</div>
                    <div class="text-xs text-muted-foreground mt-1">26 Test Suites</div>
                </div>
                
                <div class="text-center p-6 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800">
                    <div class="text-3xl font-bold text-green-600 dark:text-green-400">73.7%</div>
                    <div class="text-sm text-green-600 dark:text-green-400 font-medium">Success Rate</div>
                    <div class="text-xs text-muted-foreground mt-1">179 Passed</div>
                </div>
                
                <div class="text-center p-6 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800">
                    <div class="text-3xl font-bold text-red-600 dark:text-red-400">64</div>
                    <div class="text-sm text-red-600 dark:text-red-400 font-medium">Failed Tests</div>
                    <div class="text-xs text-muted-foreground mt-1">26.3% Failure Rate</div>
                </div>
                
                <div class="text-center p-6 bg-orange-50 dark:bg-orange-900/20 rounded-lg border border-orange-200 dark:border-orange-800">
                    <div class="text-3xl font-bold text-orange-600 dark:text-orange-400">38</div>
                    <div class="text-sm text-orange-600 dark:text-orange-400 font-medium">Auth Issues</div>
                    <div class="text-xs text-muted-foreground mt-1">59.4% of failures</div>
                </div>
            </div>

            <!-- Test Results Visualization -->
            <div class="grid md:grid-cols-2 gap-8">
                <div class="chart-container">
                    <h3 class="text-lg font-semibold mb-4">Test Results Distribution</h3>
                    <div class="relative h-64">
                        <canvas id="testResultsChart"></canvas>
                    </div>
                </div>
                
                <div class="chart-container">
                    <h3 class="text-lg font-semibold mb-4">Failure Analysis</h3>
                    <div class="relative h-64">
                        <canvas id="failureAnalysisChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <!-- Key Findings -->
        <section class="card p-8">
            <h2 class="text-3xl font-bold mb-6">üîç Key Findings</h2>
            
            <div class="space-y-6">
                <!-- Authentication Issues -->
                <div class="finding-card border-l-4 border-l-orange-500" onclick="toggleDetails(this)">
                    <div class="flex items-start justify-between">
                        <div class="flex-1">
                            <h3 class="text-lg font-semibold text-orange-600 dark:text-orange-400">Test Automation Authentication Challenges</h3>
                            <p class="text-muted-foreground mt-1">
                                59.4% of test failures (38 out of 64) were authentication-related, primarily due to automated testing session management issues.
                            </p>
                        </div>
                        <span class="badge badge-warning">Investigation</span>
                    </div>
                    <div class="finding-details">
                        <div class="grid md:grid-cols-2 gap-4 text-sm">
                            <div>
                                <strong>Evidence:</strong>
                                <ul class="list-disc list-inside mt-1 space-y-1">
                                    <li><a href="latest-test-results.json" class="text-blue-600 dark:text-blue-400 hover:underline">Latest Test Results JSON</a></li>
                                    <li><a href="screenshots/test-1-dashboard.png" class="text-blue-600 dark:text-blue-400 hover:underline">Dashboard Login Screenshots</a></li>
                                    <li><a href="screenshots/test-2-itsm-project.png" class="text-blue-600 dark:text-blue-400 hover:underline">ITSM Project Access Screenshots</a></li>
                                </ul>
                            </div>
                            <div>
                                <strong>Analysis:</strong>
                                <p class="mt-1">Most failures show "Login required" or "needsLogin": true, indicating test automation session handling needs improvement rather than JIRA platform issues.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Functional Issues -->
                <div class="finding-card border-l-4 border-l-red-500" onclick="toggleDetails(this)">
                    <div class="flex items-start justify-between">
                        <div class="flex-1">
                            <h3 class="text-lg font-semibold text-red-600 dark:text-red-400">Legitimate Functional Issues</h3>
                            <p class="text-muted-foreground mt-1">
                                26 tests failed due to actual functional issues, representing 40.6% of failures that require investigation.
                            </p>
                        </div>
                        <span class="badge badge-destructive">Action Required</span>
                    </div>
                    <div class="finding-details">
                        <div class="grid md:grid-cols-2 gap-4 text-sm">
                            <div>
                                <strong>Evidence:</strong>
                                <ul class="list-disc list-inside mt-1 space-y-1">
                                    <li><a href="screenshots/performance--1751986649812.png" class="text-blue-600 dark:text-blue-400 hover:underline">Performance Test Screenshots</a></li>
                                    <li><a href="screenshots/ticket-ITSM-67621-1751986739269.png" class="text-blue-600 dark:text-blue-400 hover:underline">ITSM Ticket Creation Evidence</a></li>
                                    <li><a href="comprehensive-final-report.json" class="text-blue-600 dark:text-blue-400 hover:underline">Comprehensive Test Report</a></li>
                                </ul>
                            </div>
                            <div>
                                <strong>Impact:</strong>
                                <p class="mt-1">These represent actual platform issues that need addressing before upgrade deployment.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Security Findings -->
                <div class="finding-card border-l-4 border-l-purple-500" onclick="toggleDetails(this)">
                    <div class="flex items-start justify-between">
                        <div class="flex-1">
                            <h3 class="text-lg font-semibold text-purple-600 dark:text-purple-400">Security Assessment Results</h3>
                            <p class="text-muted-foreground mt-1">
                                OWASP security testing identified 3 SQL injection vulnerabilities and 149 missing security headers requiring attention.
                            </p>
                        </div>
                        <span class="badge badge-destructive">Security</span>
                    </div>
                    <div class="finding-details">
                        <div class="grid md:grid-cols-2 gap-4 text-sm">
                            <div>
                                <strong>Security Testing:</strong>
                                <ul class="list-disc list-inside mt-1 space-y-1">
                                    <li>OWASP Security Suite: 66.7% success rate</li>
                                    <li>20/30 security tests passed</li>
                                    <li>Critical findings flagged for review</li>
                                </ul>
                            </div>
                            <div>
                                <strong>Recommendation:</strong>
                                <p class="mt-1">Security team review recommended before production deployment to address identified vulnerabilities.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Performance & Accessibility -->
                <div class="finding-card border-l-4 border-l-blue-500" onclick="toggleDetails(this)">
                    <div class="flex items-start justify-between">
                        <div class="flex-1">
                            <h3 class="text-lg font-semibold text-blue-600 dark:text-blue-400">Performance & Accessibility Review</h3>
                            <p class="text-muted-foreground mt-1">
                                Web Essentials testing showed 55% success rate with accessibility and performance improvements needed.
                            </p>
                        </div>
                        <span class="badge badge-warning">Improvement</span>
                    </div>
                    <div class="finding-details">
                        <div class="grid md:grid-cols-2 gap-4 text-sm">
                            <div>
                                <strong>Findings:</strong>
                                <ul class="list-disc list-inside mt-1 space-y-1">
                                    <li>392 color contrast violations</li>
                                    <li>Form labeling improvements needed</li>
                                    <li>Performance optimization opportunities</li>
                                </ul>
                            </div>
                            <div>
                                <strong>Impact:</strong>
                                <p class="mt-1">Non-blocking issues that can be addressed post-upgrade to improve user experience and compliance.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Test Suite Breakdown -->
        <section class="card p-8">
            <h2 class="text-3xl font-bold mb-6">üìã Test Suite Results</h2>
            
            <div class="overflow-x-auto">
                <table class="w-full">
                    <thead class="border-b border-border">
                        <tr class="text-left">
                            <th class="pb-3 font-semibold">Test Suite</th>
                            <th class="pb-3 font-semibold">Tests</th>
                            <th class="pb-3 font-semibold">Passed</th>
                            <th class="pb-3 font-semibold">Failed</th>
                            <th class="pb-3 font-semibold">Success Rate</th>
                            <th class="pb-3 font-semibold">Status</th>
                        </tr>
                    </thead>
                    <tbody class="space-y-2">
                        <tr class="border-b border-border/50">
                            <td class="py-3 font-medium">Comprehensive UI Coverage</td>
                            <td class="py-3">83</td>
                            <td class="py-3 text-green-600 dark:text-green-400">82</td>
                            <td class="py-3 text-red-600 dark:text-red-400">1</td>
                            <td class="py-3">98.8%</td>
                            <td class="py-3"><span class="badge badge-success">Excellent</span></td>
                        </tr>
                        <tr class="border-b border-border/50">
                            <td class="py-3 font-medium">Enterprise Suite</td>
                            <td class="py-3">30</td>
                            <td class="py-3 text-green-600 dark:text-green-400">28</td>
                            <td class="py-3 text-red-600 dark:text-red-400">2</td>
                            <td class="py-3">93.3%</td>
                            <td class="py-3"><span class="badge badge-success">Good</span></td>
                        </tr>
                        <tr class="border-b border-border/50">
                            <td class="py-3 font-medium">Auth Suites</td>
                            <td class="py-3">10</td>
                            <td class="py-3 text-green-600 dark:text-green-400">9</td>
                            <td class="py-3 text-red-600 dark:text-red-400">1</td>
                            <td class="py-3">90.0%</td>
                            <td class="py-3"><span class="badge badge-success">Good</span></td>
                        </tr>
                        <tr class="border-b border-border/50">
                            <td class="py-3 font-medium">OWASP Security</td>
                            <td class="py-3">30</td>
                            <td class="py-3 text-green-600 dark:text-green-400">20</td>
                            <td class="py-3 text-red-600 dark:text-red-400">10</td>
                            <td class="py-3">66.7%</td>
                            <td class="py-3"><span class="badge badge-warning">Review</span></td>
                        </tr>
                        <tr class="border-b border-border/50">
                            <td class="py-3 font-medium">Web Essentials</td>
                            <td class="py-3">20</td>
                            <td class="py-3 text-green-600 dark:text-green-400">11</td>
                            <td class="py-3 text-red-600 dark:text-red-400">9</td>
                            <td class="py-3">55.0%</td>
                            <td class="py-3"><span class="badge badge-warning">Improve</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Evidence & Documentation -->
        <section class="card p-8">
            <h2 class="text-3xl font-bold mb-6">üìÅ Evidence & Documentation</h2>
            
            <div class="grid md:grid-cols-3 gap-6">
                <div class="space-y-3">
                    <h3 class="font-semibold text-green-600 dark:text-green-400">üü¢ Test Data</h3>
                    <ul class="space-y-2 text-sm">
                        <li><a href="latest-test-results.json" class="text-blue-600 dark:text-blue-400 hover:underline">Latest Test Results (JSON)</a></li>
                        <li><a href="comprehensive-final-report.json" class="text-blue-600 dark:text-blue-400 hover:underline">Comprehensive Final Report</a></li>
                        <li><a href="test-results-analysis.md" class="text-blue-600 dark:text-blue-400 hover:underline">Test Results Analysis</a></li>
                        <li><a href="FINAL-COMPREHENSIVE-TEST-REPORT.md" class="text-blue-600 dark:text-blue-400 hover:underline">Final Test Report (MD)</a></li>
                    </ul>
                </div>
                
                <div class="space-y-3">
                    <h3 class="font-semibold text-blue-600 dark:text-blue-400">üì∏ Screenshots (64 files)</h3>
                    <ul class="space-y-2 text-sm">
                        <li><a href="screenshots/performance--1751986649812.png" class="text-blue-600 dark:text-blue-400 hover:underline">Performance Testing</a></li>
                        <li><a href="screenshots/theme-dark-search-1751986637082.png" class="text-blue-600 dark:text-blue-400 hover:underline">Dark Theme Search</a></li>
                        <li><a href="screenshots/ticket-ITSM-67621-1751986739269.png" class="text-blue-600 dark:text-blue-400 hover:underline">ITSM Ticket Examples</a></li>
                        <li><a href="screenshots/" class="text-blue-600 dark:text-blue-400 hover:underline">View All Screenshots ‚Üí</a></li>
                    </ul>
                </div>
                
                <div class="space-y-3">
                    <h3 class="font-semibold text-orange-600 dark:text-orange-400">‚öôÔ∏è Configuration</h3>
                    <ul class="space-y-2 text-sm">
                        <li><a href="setup-uat-test-results-schema.sql" class="text-blue-600 dark:text-blue-400 hover:underline">Database Schema</a></li>
                        <li><a href="jira-uat-testing/reports/" class="text-blue-600 dark:text-blue-400 hover:underline">UAT Test Reports</a></li>
                        <li><a href="dpsa-tickets-from-screenshot.json" class="text-blue-600 dark:text-blue-400 hover:underline">DPSA Ticket Data</a></li>
                        <li><span class="text-muted-foreground">Test Environment Configs</span></li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Recommendations -->
        <section class="alert alert-warning">
            <div class="flex items-start space-x-3">
                <div class="flex-shrink-0">‚ö†Ô∏è</div>
                <div class="flex-1">
                    <h3 class="text-lg font-semibold mb-2">Recommendations</h3>
                    <div class="space-y-2 text-sm">
                        <p><strong>1. Test Automation:</strong> Improve session management and authentication handling in automated testing to reduce false positives.</p>
                        <p><strong>2. Security Review:</strong> Address OWASP security findings before production deployment, particularly SQL injection vulnerabilities.</p>
                        <p><strong>3. Functional Issues:</strong> Investigate and resolve the 26 legitimate functional failures identified in testing.</p>
                        <p><strong>4. Phased Deployment:</strong> Consider staged rollout with monitoring to address accessibility and performance improvements post-upgrade.</p>
                    </div>
                    
                    <div class="flex space-x-3 mt-4">
                        <a href="#technical-report" class="btn btn-primary">üìÑ View Technical Report</a>
                        <a href="#remediation-plan" class="btn btn-secondary">üîß Remediation Plan</a>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <script>
        // Chart.js Setup
        Chart.defaults.color = document.documentElement.classList.contains('dark') ? '#e5e7eb' : '#374151';
        Chart.defaults.borderColor = document.documentElement.classList.contains('dark') ? '#374151' : '#e5e7eb';

        // Test Results Chart
        const ctx1 = document.getElementById('testResultsChart').getContext('2d');
        new Chart(ctx1, {
            type: 'doughnut',
            data: {
                labels: ['Passed', 'Failed', 'Auth Issues'],
                datasets: [{
                    data: [179, 26, 38],
                    backgroundColor: ['#10b981', '#ef4444', '#f59e0b'],
                    borderWidth: 0,
                    cutout: '70%'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: { padding: 20, font: { size: 12 } }
                    }
                }
            }
        });

        // Failure Analysis Chart
        const ctx2 = document.getElementById('failureAnalysisChart').getContext('2d');
        new Chart(ctx2, {
            type: 'bar',
            data: {
                labels: ['Auth Issues', 'Functional', 'Security', 'Performance', 'UI'],
                datasets: [{
                    label: 'Failures',
                    data: [38, 26, 10, 9, 1],
                    backgroundColor: ['#f59e0b', '#ef4444', '#8b5cf6', '#06b6d4', '#10b981'],
                    borderRadius: 4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { display: false } },
                scales: {
                    y: { beginAtZero: true },
                    x: { grid: { display: false } }
                }
            }
        });

        // Interactive Functions
        function toggleDetails(element) {
            element.classList.toggle('expanded');
        }

        function toggleTheme() {
            document.documentElement.classList.toggle('dark');
            
            // Update chart colors
            const isDark = document.documentElement.classList.contains('dark');
            Chart.defaults.color = isDark ? '#e5e7eb' : '#374151';
            Chart.defaults.borderColor = isDark ? '#374151' : '#e5e7eb';
            
            // Re-render charts
            Chart.instances.forEach(chart => chart.update());
        }

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth' });
                } else {
                    alert(`Would navigate to: ${this.textContent}\n\nThis demonstrates drill-down functionality for detailed analysis.`);
                }
            });
        });

        // Set initial theme based on system preference
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.documentElement.classList.add('dark');
        }
    </script>
</body>
</html>